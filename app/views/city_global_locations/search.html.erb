<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Search for a City</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  	<%= stylesheet_link_tag 'script.aculo.us' , :media => "screen" %>
  	<%= stylesheet_link_tag 'auto_complete_cities' , :media => "all" %>
    <%= javascript_include_tag :defaults %>
  </head>
  <body>
	<h1>Search for a City</h1>
	<form action="/city_global_locations/search_for" method="get">
	  <p>
	    country<br />
		<%= select( "city_global_location", 
                    "country", 
                    CountryCode.find(:all).collect {|o| [ o.name, o.code.downcase ] },
                    { :include_blank => true } 
                   ) 
        %>
	  </p>
	  <p>
	    city<br />
	  	<%= text_field_with_auto_complete :city_global_location, 
	      :city, 
	      {},  
	      { 
		      :method => :get,
			  :skip_style => true   
	      } 
		%>
	  </p>
	  <p>
	    <input id="search_submit" name="search_for" type="submit" value="Search" />
	  </p>
	</form>
	<%= link_to 'Back', city_global_locations_path %>
  </body>
</html>